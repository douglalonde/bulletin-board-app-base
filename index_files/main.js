!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){function b(a){return e.raw?a:decodeURIComponent(a.replace(d," "))}function c(a){0===a.indexOf('"')&&(a=a.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),a=b(a);try{return e.json?JSON.parse(a):a}catch(c){}}var d=/\+/g,e=a.cookie=function(d,f,g){if(void 0!==f){if(g=a.extend({},e.defaults,g),"number"==typeof g.expires){var h=g.expires,i=g.expires=new Date;i.setDate(i.getDate()+h)}return f=e.json?JSON.stringify(f):String(f),document.cookie=[e.raw?d:encodeURIComponent(d),"=",e.raw?f:encodeURIComponent(f),g.expires?"; expires="+g.expires.toUTCString():"",g.path?"; path="+g.path:"",g.domain?"; domain="+g.domain:"",g.secure?"; secure":""].join("")}for(var j=document.cookie.split("; "),k=d?void 0:{},l=0,m=j.length;m>l;l++){var n=j[l].split("="),o=b(n.shift()),p=n.join("=");if(d&&d===o){k=c(p);break}d||(k[o]=c(p))}return k};e.defaults={},a.removeCookie=function(b,c){return void 0!==a.cookie(b)?(a.cookie(b,"",a.extend({},c,{expires:-1})),!0):!1}}),function(a){a.fn.cookieNotify=function(b){var b=a.extend({text:"We use cookies on this website, by continuing to be here we will take it you agree to us using them.",btnText:"I Agree",bgColor:"#18243e",textColor:"#fff",btnColor:"#c7c9c7",btnTextColor:"#000",position:"top",leftPadding:"0",rightPadding:"0",hideAnimation:"fadeOut"},b);a("head").append("<style>#cookie_container { display: none; position: fixed; "+b.position+": 0; left: "+b.leftPadding+"; 	right: "+b.rightPadding+"; z-index: 999; padding: 10px; background-color:"+b.bgColor+"; color:"+b.textColor+"; } .cookie_inner { width: 90%; margin: 0 auto; } .cookie_inner p { margin: 0; padding-top: 4px; font-size:1.8rem; } #setCookie { float: right; padding: 5px 10px; text-decoration: none; background-color: "+b.btnColor+"; color: "+b.btnTextColor+"; font-size:1.8rem;} #setCookie:hover { background-color: #AAAAAA !important; color: #000000 !important;}</style>"),a('<div id="cookie_container"><div class="cookie_inner"><a id="setCookie" href="#">'+b.btnText+"</a><p>"+b.text+"</p></div></div>").appendTo(this),a(document.body).on("click","#setCookie",function(c){c.preventDefault(),a.cookie("cookie_policy","true",{expires:365,path:"/"}),"fadeOut"==b.hideAnimation?a("#cookie_container").fadeOut():"slideUp"==b.hideAnimation&&a("#cookie_container").slideUp()}),a(this).ready(function(){var b=a.cookie("cookie_policy");b||a("#cookie_container").show()})}}(jQuery);var APP=function(){var a,b,c=617,d=265,e={inactive_region:"#8fb8c9",active_region:"#17243d",inactive_region_hover:"#53a6c9",active_region_hover:"#53a6c9"},f=function(){function a(){window.scroll(0,0),d()}function c(){e=!0,$(window).width()>=820?$(document).scrollTop()>100?$("header").addClass("scrolling"):$("header").removeClass("scrolling"):Modernizr.touch&&window.addEventListener("orientationchange",function(){$("header").removeClass("scrolling")},!1),setInterval(function(){e&&(e=!1)},100)}function d(){var a=$(".funds-section .fund .fund-expand").closest(".container").innerWidth();$(".funds-section .fund .fund-expand").outerWidth(a-30),q(b),$("header+section").removeClass("search-open")}var e=!1;window.onscroll=c,window.onload=a,window.onresize=d},g=function(){$("nav").on("click",'a[href^="/#"]',function(a){var b,c=$(this).attr("href").replace("/",""),d=$(c);0!==d.length&&(b=d.offset().top-80,a.preventDefault(),$("body, html").animate({scrollTop:b}))})},h=function(){$("#banner .banners").slick({slidesToShow:1,slidesToScroll:1,infinite:!0,fade:!0,autoplay:!0,autoplaySpeed:3500,appendArrows:$("#banner .banners-navigation")}),$("#events .events").slick({slidesToShow:2,slidesToScroll:2,vertical:!0,infinite:!1,verticalSwiping:!0}),$("#news .news").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-news-navigation .prev-slide",nextArrow:".slider-news-navigation .next-slide",appendDots:".slider-news-navigation .dots"}),$("#related-news .related-news").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-related-news-navigation .prev-slide",nextArrow:".slider-related-news-navigation .next-slide",appendDots:".slider-related-news-navigation .dots"}),$("#publications .publications").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-publications-navigation .prev-slide",nextArrow:".slider-publications-navigation .next-slide",appendDots:".slider-publications-navigation .dots"}),$("#highlights .highlights").slick({slidesToShow:2,slidesToScroll:2,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-highlights-navigation .prev-slide",nextArrow:".slider-highlights-navigation .next-slide",appendDots:".slider-highlights-navigation .dots",responsive:[{breakpoint:768,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("#contacts .contacts").slick({slidesToShow:4,slidesToScroll:4,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-contacts-navigation .prev-slide",nextArrow:".slider-contacts-navigation .next-slide",appendDots:".slider-contacts-navigation .dots",responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:515,settings:{slidesToShow:1,slidesToScroll:1}}]}),$("#contacts .contactsSidebar").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-contacts-navigation .prev-slide",nextArrow:".slider-contacts-navigation .next-slide",appendDots:".slider-contacts-navigation .dots"}),$("#promos .promosSidebar").slick({slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,infinite:!0,prevArrow:".slider-promos-navigation .prev-slide",nextArrow:".slider-promos-navigation .next-slide",appendDots:".slider-promos-navigation .dots"}),$(".prev-slide").on("click",function(a){a.preventDefault(),$(this).closest(".contains-slick").find(".slick-container").slick("slickPrev")}),$(".next-slide").on("click",function(a){a.preventDefault(),$(this).closest(".contains-slick").find(".slick-container").slick("slickNext")})},i=function(){$("#banner .banners").slick("unslick"),$("#events .events").slick("unslick"),$("#news .news").slick("unslick"),$("#related-news .related-news").slick("unslick"),$("#publications .publications").slick("unslick"),$("#highlights .highlights").slick("unslick"),$("#contacts .contacts").slick("unslick"),$("#contacts .contactsSidebar").slick("unslick")},j=function(){i()},k=function(){l()},l=function(){if(h(),window.matchMedia){var c=window.matchMedia("print");c.addListener(function(a){a.matches?j():k()})}window.onbeforeprint=j,window.onafterprint=k,$("#perex a.toggle-small-text").on("click",function(){return $("#perex div.small-text").slideToggle(),"Read more"==$(this).find("span").html()?$(this).find("span").html("Show less"):$(this).find("span").html("Read more"),$(this).toggleClass("closed"),!1});var d=lity();$(".video-lightbox-link").on("click",d),$(document).on("show.bs.collapse",".panel",function(a){$(this).find(".ico-open").removeClass("ico-open").addClass("ico-close")}),$(document).on("hide.bs.collapse",".panel",function(a){$(this).find(".ico-close").removeClass("ico-close").addClass("ico-open")}),$("#expertiseAccordion").on("show.bs.collapse",function(){$("#expertiseAccordion .in").collapse("hide")}),$("a#apply-now").on("click",function(a){$("a#apply-now").hide(),$("#job-application-form").slideDown(),a.preventDefault()}),($(".validation").length||$(".required").length)&&($("a#apply-now").hide(),$("#job-application-form").slideDown()),$("#job-application-submit").click(function(){var a=$("#phone-number").val().replace(/\s/g,"");$("#phone-number").val(a);var b=$("#mobile-number").val().replace(/\s/g,"");$("#mobile-number").val(b)}),$(".btn-file :file").on("fileselect",function(a,b,c){var d=$(this).parents(".input-group").find(":text");d.length?d.val(c):c&&alert(c)}),$(document).on("change",".btn-file :file",function(){var a=$(this),b=a.get(0).files?a.get(0).files.length:1,c=a.val().replace(/\\/g,"/").replace(/.*\//,"");a.trigger("fileselect",[b,c])}),$(".big-tabs.maps-type li:not(.active) a").hover(function(){var c=$(this).data("region"),d=b.path(REGIONS[c].path);d.attr({fill:a==c?e.active_region_hover:e.inactive_region_hover,stroke:"white","stroke-width":.4})},function(){var c=$(this).data("region"),d=b.path(REGIONS[c].path);d.attr({fill:a==c?e.active_region:e.inactive_region,stroke:"white","stroke-width":.4})}),$(".technology-left").tabCollapse(),$(".search-dropdown").on("show.bs.dropdown",function(){$(window).width()<=768?$("header+section").addClass("search-open"):$("header+section").removeClass("search-open")}),$(".search-dropdown").on("hidden.bs.dropdown",function(){$(window).width()<=768&&$("header+section").removeClass("search-open")})},m=function(){$("#navbar .dropdown .dropdown-tabs").on("click",function(){$(this).closest(".dropdown").addClass("do-not-close")}),$("#navbar .dropdown").on("hide.bs.dropdown",function(a){$(this).hasClass("do-not-close")&&a.preventDefault(),$(this).removeClass("do-not-close")})},n=function(){$(".breadcrumbs li:last-of-type a").removeClass("arrow-link"),$("div.publications-container .publications-page >article:last-of-type").css("border-bottom","none")},o=function(){var a=$(".fund");a.find(".funds-box").click(function(b){b.preventDefault();var c,d=$(this),e=d.closest(".fund");e.hasClass("is-collapsed")?(a.not(e).removeClass("is-expanded").addClass("is-collapsed"),e.removeClass("is-collapsed").addClass("is-expanded"),$(window).width()>=768&&(c=-100,setTimeout(function(){$("html,body").animate({scrollTop:d.offset().top+c},500)},400))):e.removeClass("is-expanded").addClass("is-collapsed")}),a.find(".expand-close").click(function(a){a.preventDefault();var b=$(this).closest(".fund");b.removeClass("is-expanded").addClass("is-collapsed")})},p=function(){var a,b,c;$(".map-canvas").each(function(){c=new google.maps.LatLng($(this).data("latitude"),$(this).data("longitude")),a=new google.maps.Map(document.getElementById($(this).attr("id")),{center:c,zoom:15,scrollwheel:!1}),b=new google.maps.Marker({position:c}),b.setMap(a)})},q=function(a){var b=$(".map-wrap");if(b.length>0){var e=b.width(),f=e/c*d;a.changeSize(e,f,!1,!0)}},r=function(){var f,g,h=[];$("#map").length>0&&(b=new ScaleRaphael("map",c,d,"map"),b.setViewBox(3942,131,c,d),q(b),$.each(REGIONS,function(c,d){h.push(c),f=b.path(d.path),g={fill:a==c?e.active_region:e.inactive_region,stroke:"white","stroke-width":.4},f.attr(g)}))},s=function(){var a=$(".homepage #perex");setTimeout(function(){$(a).css("margin-top","-70px")},300)},t=function(){$(".panel-heading").each(function(){0==$(this).find("span.link-icon").length&&$(this).find("a").append('<span class="link-icon"><span class="small-border"></span><i class="ico-open"></i></span>')})},u=function(){$(".awards-button").click(function(){var a="#"+$(this).attr("id")+"-display";$(a).is(":visible")?($(a).hide("slow"),$(this).html("<strong>View more</strong>")):($(a).show("slow"),$(this).html("<strong>View less</strong>"))})},v=function(){$("option:selected").each(function(){$(this).prop("selected",!1)})},w=function(){$(document).ready(function(){var a=$("#TBE_theForm"),b=$("#taleoFrame"),c=$("#jobSearchLoader");a.hide(),v(),window.performance&&2===window.performance.navigation.type?window.location.reload():(b.attr("src",b.attr("src")),b.on("load",function(){c.hide(),a.show(),$("#jobCategories, #jobLocations").multiselect({buttonText:function(a,b){if(0===a.length)return"Select all that apply...";if(a.length>3)return"More than 3 options selected!";var c=[];return a.each(function(){void 0!==$(this).attr("label")?c.push($(this).attr("label")):c.push($(this).html())}),c.join(", ")+""},enableHTML:!0,includeSelectAllOption:!0,selectAllText:"Check/Uncheck All",templates:{li:'<li><div class="chckbox-wrapper"><label></label></div></li>'}}),$(".multiselect-container div.chckbox-wrapper").each(function(a){var b="multiselect-"+a,c=$(this).find("input"),d=$(this).parents(".btn-group").prev("#jobCategories").length>0?"CUSTOM_1123":"location";$(this).find("label").attr("for",b),c.attr("id",b),c.attr("name",d),c.detach(),c.prependTo($(this)),$(this).click(function(a){a.stopPropagation()})})}))})},x=function(){a=$("#banner").data("active"),f(),g(),l(),m(),n(),o(),p(),r(),s(),t(),u(),w()};return{init:x}}();APP.init();